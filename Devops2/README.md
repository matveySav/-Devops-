# Лаба 2 по девопсу
## Плохие практики по работе с Dockerfile
```
FROM ubuntu:latest

WORKDIR /app

RUN apt-get update && apt-get install -y  python3

ENV password=12345
```
1. Мы используем тег `latest`, для указания родительского образа, что не очень хорошо, поскольку это не гарантирует, что мы действительно установим последнюю версию, а также, в зависимости от того, когда мы будем создавать образ по этому докерфайлу, версия родительского образа может отличаться.
2. Мы устанавливаем переменную окружения `password`, пусть это будет какая-то важная информация для нашего проекта, когда мы передаем её значение напрямую в докерфайле, если кто-то завладеет докерфайлом, то он завладеет этой секретной информацией, что не есть хорошо.
3. Также, здесь мы не указываем `USER`, поэтому по умолчанию,команды в контейнере будут исполняться от `root'а`, значит если кто-то получить доступ к контейнеру, он будет иметь права `root'a`и сможет делать с ним почти что угодно (Украсть информацию, ресурсы, установить что-либо в своих целях).

## Исправление плохих практик
```
FROM ubuntu:24.04

WORKDIR /app

RUN apt-get update && apt-get install -y  python3.10

RUN useradd -ms /bin/bash custom_user

USER custom_user

ENV password=/home/matveysav/labs/dockerTest/password
```
1. Здесь вместо тега `latest`, мы указываем конкретную версию(, а также конкретную версию питона, логика та же, что и с родительским образом).
2. В качестве переменной окружения `password` мы указываем путь к файлу с самим паролем, таким образом потеря докерфайла не будет угрозой безопасности (по крайней мере не такой серьезной).
3. После установки питона мы создаем пользователя и переходим на него, таким образом, если кто-то получит доступ к контейнеру, его возможности будут сильно ограничены, так как он будет действовать от лица этого пользвоателя.

## Плохие практики по работе с контейнерами

