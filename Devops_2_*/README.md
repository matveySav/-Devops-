# 2 Лаба со звездочкой по DevOps

В качестве контейнеров будем использовать структуру из гайда для начинающих по работе с docker compose с оф. сайта [(ссылка)](https://docs.docker.com/compose/gettingstarted/). Получившиеся файлы представлены в данном каталоге. Если кратко, то подняв эти контейнеры, у нас на `localhost:8000` запуститься flask приложение, которое будет выводить, сколько раз мы его посетили. В качестве БД используется контейнер с redis

## Плохие практики
```
services:
  web:
    build: .
    ports:
      - "8000:5000"
  redis:
    image: "redis:alpine"
```
1.В данном варианте compose файла на моменте `8000:5000` мы маппим порт 8000 локальной машине, к 5000 порту контейнера, это не очень оптимально, поскольку наш контейнер с flask приложение будет слушать 8000 порт на всех сетевых интерфейсах, поэтому к нему можно получить доступ не только с нашего пк. 
2.Мы не указываем порядок запуска контейнеров, и поскольку наше веб-приложение обращается к redis, в другом контейнере, его может крашнуть, так как оно не сможет вовремя достучаться до БД (в скрипте предусмотрено некоторое окно для реконнекта, но все же).
3.
